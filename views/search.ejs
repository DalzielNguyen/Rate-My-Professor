<main id="search">
  <h1>Search Results for <b><%=query%></b>: <%=results.length%> results</h1>
  <div class="search-box">
    <form id="formSearch" action="" method="POST">
      <div class="form-group search">
        <div class="input-group">
          <input class="form-control" type="text" id="searchQuery" name="data" value="<%=query%>" placeholder="Find the professor/school/something..." aria-label="Search">
          <div class="input-group-append">
            <button class="btn input-group-text">
              <i class="fal fa-search"aria-hidden="true"></i>
            </button>
          </div>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-6">
          <label class="col-form-label">Filter</label>
          <select class="form-control" name="filter">
            <option value="0" >All</option>
            <option value="1" selected>Teacher</option>
            <option value="2">School</option>
          </select>
        </div>
        <div class="col-6">
        </div>
      </div>
    </form>       
  </div>
  <div class="results">
    <div class="results-heading">
      <div class="th">Category</div>
      <div class="th">Name</div>
      <div class="th">School</div>
    </div>
    <div class="results-body">
      <ul>
        <% results.forEach(teacher => { %>
        <li>
          <a href="/teacher/<%= teacher.teacher_id %>">
            <span class="th cate"><i class="fas fa-chalkboard-teacher"></i>Teacher</span>
            <span class="th name"><%= teacher.title%> <%=teacher.name %></span>
            <span class="th"><%=teacher.school[0].name%></span>
          </a>
        </li>
        <% }) %>
      </ul>
    </div>
  </div>
</main>
<script>
  $(document).ready(function () {
    $("#formSearch").submit(function () {
      const query = $("#searchQuery").val().trim();
      window.location.href=`/search/${query}`;
      return false;
    })
  })
</script>